<!DOCTYPE html>
<html lang="en">
  <head style="background-color: aqua;">
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styleee.css">
    <title>Document</title>
  </head>
  <body>
  <div class="boxy">
    
    <h1 style="margin-left:10px;color: red;font-size: 70px;font-weight: 1000;">Interface Admin</h1>
    <!--<input type="file"  accept="image/*" name="image" id="file"  onchange="loadFile(event)">-->
    <input type="file"id="image_uploads" name="image_uploads"accept="image/png, image/jpeg">
    <input id="inp" type="text" />
    <button id="ab" style="background-color: blue;">poster</button>
    <ul style="color: aliceblue;"></ul>
    <!--<ul id="liste2" style="color: aliceblue;"></ul>-->
  </div>

    <script>
      
      let button = document.querySelector("button");

      let liste = document.querySelector("ul");

      let input = document.querySelector("input"); //image
      let i2 = document.getElementById("inp"); //input
      button.addEventListener("click", addTodo);
      //var ch1=input.value;
      //console.log(ch1);
      //var imgUrl = i2.src;

      function addTodo() {
        if (isInputEmpty()) {
          alert("Input empty, please type something !");
          return;
        }   let ch = input.value.split("\\").pop(); 
        liste.innerHTML += `<li>
        <button style="background-color: white;" onclick='deleteTodo(this)'>Supprimer</button>
                       TITRE :                
          ${i2.value}
          
          
          <img id="aaa" src="${ch}" />
          
         
          </li>`
          console.log("input.src");
          console.log("added");
          ch="";
          //button.innerHTML = `ajouter ${input.value} dans la liste`   //matemchi ken bel apostophe heki
        } 
      
        var loadFile = function(event) {
	    var image = document.getElementById('output');
	    image.src = URL.createObjectURL(event.target.files[0]);
        };
      
      
        function deleteTodo(e){
        console.log(e.parentElement);
        e.parentElement.remove();
      }

     
     
      function isInputEmpty() {
        if (input.value == "") {
          return true;
        }
        return false;
      }
      var ch = "";
      
      
    

      input.addEventListener("keypress", function(event) {
      if(event.key!="Enter"){
      let button = document.querySelector("button");
      //var button = document.getElementById("buttonId");

      
      ch+=event.key;
      button.innerHTML = "ajouter "+ch +" dans la liste";
      }});
      
      
      
      
      input.addEventListener("keypress", function (e) {
        if (e.key == "Enter") {
          addTodo();
          ch="";
          input.value = "";
      
        }

      });
    </script>
  </body>
</html>